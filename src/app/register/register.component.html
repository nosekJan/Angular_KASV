<div class="flex items-center justify-center h-fit my-4">
  <form (ngSubmit)="onSubmit()" class="bg-gray-800 shadow-xl rounded-xl p-6" *ngIf="!created">
    <div class="w-full">

      <p class="text-xl font-bold text-center pb-2">Sign Up</p>

      <div role="alert" *ngIf="showError">
        <p class="text-lg text-red-500 text-center mb-2">Please fill out all fields with valid data!</p>
      </div>

      <div class="w-full px-3 pb-3" [formGroup]="form">
        <input
          type="text"
          formControlName="username"
          placeholder="*Username"
          class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
        />
        <div role="alert" *ngIf="form.controls['username'].errors?.['required'] &&
                                     form.controls['username'].touched">
          <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
        </div>
      </div>

      <div class="w-full px-3 pb-3" [formGroup]="form">
        <input
          type="password"
          formControlName="password"
          placeholder="*Password"
          class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
        />
        <div role="alert" *ngIf="form.controls['password'].errors?.['required'] &&
                                     form.controls['password'].touched">
          <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
        </div>
      </div>

      <div class="w-full px-3 pb-3" [formGroup]="form">
        <input
          type="password"
          formControlName="repeatPassword"
          placeholder="*Repeat password"
          class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
        />
        <div role="alert" *ngIf="form.controls['repeatPassword'].errors?.['required'] &&
                                 form.controls['repeatPassword'].touched &&
                                 !passwordsMatch()">
          <p class="text-red-500 text-xs pt-2">Passwords must be matching!.</p>
        </div>
      </div>

      <div class="flex font-bold justify-center items-center pb-2">
        <p class="text-lg">Contact info&nbsp;</p>
        <p class="text-sm">(optional)</p>
      </div>


      <div class="grid grid-cols-2">

        <div class="w-full px-3 pb-3" [formGroup]="form">
          <input
            type="text"
            name="firstName"
            placeholder="First name"
            pattern="^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ]{1,40}$"
            class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
          />
          <div role="alert" *ngIf="form.controls['address'].errors?.['required'] &&
                                     form.controls['address'].touched">
            <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
          </div>
        </div>

        <div class="w-full px-3 pb-3" [formGroup]="form">
          <input
            type="text"
            name="lastName"
            placeholder="Last name"
            pattern="^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ]{1,40}$"
            class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
          />
          <div role="alert" *ngIf="form.controls['lastName'].errors?.['required'] &&
                                     form.controls['lastName'].touched">
            <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
          </div>
        </div>

        <div class="w-full px-3 pb-3" [formGroup]="form">
          <input
            type="email"
            name="email"
            placeholder="Email"
            pattern="[^\s@]+@[^\s@]+"
            class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
          />
          <div role="alert" *ngIf="form.controls['email'].errors?.['required'] &&
                                     form.controls['email'].touched">
            <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
          </div>
        </div>

        <div class="w-full px-3 pb-3" [formGroup]="form">
          <input
            type="text"
            name="phoneNumber"
            placeholder="Phone number"
            pattern="^[+]?[0-9]{0,14}$"
            class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
          />
          <div role="alert" *ngIf="form.controls['phoneNumber'].errors?.['required'] &&
                                     form.controls['phoneNumber'].touched">
            <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
          </div>
        </div>

        <div class="w-full px-3 pb-3" [formGroup]="form">
          <input
            type="text"
            name="address"
            placeholder="Address"
            pattern="^[\s\S]{0,100}$"
            class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
          />
          <div role="alert" *ngIf="form.controls['address'].errors?.['required'] &&
                                     form.controls['address'].touched">
            <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
          </div>
        </div>

        <div class="w-full px-3 pb-3" [formGroup]="form">
          <input
            type="text"
            name="postalCode"
            placeholder="Postal code"
            pattern="^[0-9]{5}$"
            class="input hover:border-primary bg-[#2D394B] w-full max-w-xs p-2"
          />
          <div role="alert" *ngIf="form.controls['postalCode'].errors?.['required'] &&
                                     form.controls['postalCode'].touched">
            <p class="text-red-500 text-xs pt-2">Please fill out this field.</p>
          </div>
        </div>

      </div>

    <div>
      <button type="submit"
              class="text-white flex mx-auto bottom-2.5 font-medium rounded-lg text-sm px-4 py-2 bg-primary hover:bg-secondary focus:ring-secondary">
        Sign Up
      </button>
    </div>

      <span class="flex justify-center mx-auto mt-2">
        Already have an account? &nbsp;
        <a routerLink="/register">
          Log In here!
        </a>
      </span>
    </div>
  </form>

  <div *ngIf="created" class="flex flex-col my-52 bg-gray-800 shadow-xl rounded-xl p-6">
    <p class="text-lg font-bold">
      You have registered successfully!
    </p>
    <p class="text-lg text-center mb-2">
      Log In to use your account.
    </p>
    <button type="button"
            (click)="router.navigateByUrl('/login')"
            class="text-white flex mx-auto bottom-2.5 font-medium rounded-lg text-sm px-4 py-2 bg-primary hover:bg-secondary focus:ring-secondary">
      Log In
    </button>
  </div>
</div>
